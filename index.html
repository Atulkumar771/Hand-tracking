<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>I Love You Sriyuu ❤️</title>

<style>
    html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: black;
        font-family: "Poppins", sans-serif;
    }

    /* INTRO SCREEN */
    #intro {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.9);
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        font-size: 26px;
        text-align: center;
        z-index: 10;
    }

    #startBtn {
        margin-top: 20px;
        padding: 12px 30px;
        font-size: 18px;
        background: #ff2b6e;
        border: none;
        color: white;
        border-radius: 10px;
    }

    #loveText {
        position: fixed;
        top: 40px;
        width: 100%;
        text-align: center;
        font-size: 40px;
        color: #66c5ff;
        text-shadow: 0 0 15px #66c5ff;
        z-index: 5;
        display: none;
    }

    #sriyuuText {
        position: fixed;
        top: 100px;
        width: 100%;
        text-align: center;
        font-size: 32px;
        color: #ff66cc;
        text-shadow: 0 0 12px #ff66cc;
        z-index: 5;
        display: none;
    }

    canvas {
        position: fixed;
        inset: 0;
    }
</style>
</head>

<body>

<!-- INTRO -->
<div id="intro">
    <div>✨ MADE FOR SRIYUU ✨</div>
    <button id="startBtn">Tap to Begin ❤️</button>
</div>

<!-- TEXTS -->
<div id="loveText">I LOVE YOU</div>
<div id="sriyuuText">SRIYUU</div>

<!-- MUSIC -->
<audio id="bgMusic" src="loveyou.mp3" loop></audio>

<!-- CANVAS -->
<canvas id="canvas"></canvas>

<script>
/* ----------------------------------
   INTRO WITH MUSIC
---------------------------------- */
const intro = document.getElementById("intro");
const startBtn = document.getElementById("startBtn");
const bgMusic = document.getElementById("bgMusic");
const loveText = document.getElementById("loveText");
const sriyuuText = document.getElementById("sriyuuText");

startBtn.onclick = () => {
    intro.style.display = "none";
    bgMusic.play().catch(()=>{});
    loveText.style.display = "block";
    sriyuuText.style.display = "block";
};

/* ----------------------------------
   CANVAS SETUP
---------------------------------- */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
let w, h;

function resize() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
}
resize();
window.onresize = resize;

/* ----------------------------------
   FIREWORKS ON TOUCH
---------------------------------- */
let touches = [];
canvas.addEventListener("touchstart", e => {
    const t = e.touches[0];
    touches.push({ x: t.clientX, y: t.clientY, age: 0 });
});

/* ----------------------------------
   PARTICLE ENGINE
---------------------------------- */
function Point(x = 0, y = 0) {
    this.x = x; this.y = y;
}

function Particle() {
    this.position = new Point();
    this.velocity = new Point();
    this.acceleration = new Point();
    this.age = 0;
    this.size = 0;
    this.color = "";
}

Particle.prototype.initialize = function(x, y, dx, dy, color) {
    this.position.x = x;
    this.position.y = y;
    this.velocity.x = dx;
    this.velocity.y = dy;
    this.acceleration.x = dx * 0.02;
    this.acceleration.y = dy * 0.02;
    this.age = 0;
    this.size = Math.random()*2 + 1;
    this.color = color;
};

let particles = [];
let fireflies = [];
let floatingHearts = [];

/* ----------------------------------
   HEART FUNCTION
---------------------------------- */
function heartPoint(t) {
    return {
        x: 16 * Math.pow(Math.sin(t), 3),
        y: 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t)
    };
}

/* ----------------------------------
   CREATE HEART PARTICLES
---------------------------------- */
let heartMode = 0; // 0 = heart, 1 = I LOVE YOU, 2 = SRIYUU
let lastSwitch = Date.now();

function createHeartParticles() {
    const t = Math.random() * Math.PI * 2;
    const p = heartPoint(t);

    const px = p.x * 13 + w/2;
    const py = -p.y * 13 + h/2;

    const dx = (Math.random()-0.5)*2;
    const dy = (Math.random()-1.5)*2;

    const particle = new Particle();
    particle.initialize(px, py, dx, dy, getGlowColor());
    particles.push(particle);
}

/* ----------------------------------
   COLOR-CHANGING GLOW
---------------------------------- */
function getGlowColor() {
    const colors = ["rgba(0,160,255,1)", "rgba(0,200,255,1)", "rgba(0,130,255,1)"];
    return colors[Math.floor(Math.random()*colors.length)];
}

/* ----------------------------------
   FIREWORKS
---------------------------------- */
function createFirework(x, y) {
    for (let i=0; i<60; i++) {
        const angle = Math.random() * Math.PI * 2;
        const speed = Math.random() * 4 + 1;

        const p = new Particle();
        p.initialize(x, y, Math.cos(angle)*speed, Math.sin(angle)*speed, "rgba(255,150,255,1)");
        particles.push(p);
    }
}

/* ----------------------------------
   FLOATING HEARTS
---------------------------------- */
function createFloatingHeart() {
    const x = Math.random()*w;
    const y = h + 20;

    floatingHearts.push({
        x, y,
        size: Math.random()*12 + 8,
        speed: Math.random()*1 + 0.5,
        alpha: Math.random()*0.5 + 0.3
    });
}

/* ----------------------------------
   FIREFLIES
---------------------------------- */
function createFirefly() {
    fireflies.push({
        x: Math.random()*w,
        y: Math.random()*h,
        size: Math.random()*3 + 1,
        dx: (Math.random()-0.5)*0.3,
        dy: (Math.random()-0.5)*0.3
    });
}

/* ----------------------------------
   TEXT SWITCHING (every 5 sec)
---------------------------------- */
function switchHeartMode() {
    const now = Date.now();
    if (now - lastSwitch > 5000) {
        heartMode = (heartMode+1) % 3;
        lastSwitch = now;
    }
}

/* ----------------------------------
   DRAW EVERYTHING
---------------------------------- */
function loop() {
    ctx.clearRect(0,0,w,h);

    switchHeartMode();

    /* HEART */
    if (heartMode === 0) {
        createHeartParticles();
    }

    /* INSIDE HEART TEXT */
    if (heartMode === 1) {
        drawInsideText("I LOVE YOU");
    }
    if (heartMode === 2) {
        drawInsideText("SRIYUU");
    }

    /* FIREWORKS */
    touches.forEach(t => {
        createFirework(t.x, t.y);
        t.age++;
    });
    touches = touches.filter(t => t.age < 2);

    /* UPDATE PARTICLES */
    particles = particles.filter(p => p.age < 120);
    particles.forEach(p => {
        p.velocity.x += p.acceleration.x;
        p.velocity.y += p.acceleration.y;
        p.position.x += p.velocity.x;
        p.position.y += p.velocity.y;
        p.age++;

        ctx.fillStyle = p.color;
        ctx.globalAlpha = 1 - p.age/120;
        ctx.beginPath();
        ctx.arc(p.position.x, p.position.y, p.size, 0, Math.PI*2);
        ctx.fill();
    });

    ctx.globalAlpha = 1;

    /* FLOATING HEARTS */
    if (floatingHearts.length < 20) createFloatingHeart();
    floatingHearts.forEach(hh => {
        hh.y -= hh.speed;
        hh.alpha -= 0.001;
        ctx.fillStyle = "rgba(255,100,200," + hh.alpha + ")";
        ctx.beginPath();
        ctx.arc(hh.x, hh.y, hh.size, 0, Math.PI*2);
        ctx.fill();
    });

    /* FIREFLIES */
    if (fireflies.length < 40) createFirefly();
    fireflies.forEach(fl => {
        fl.x += fl.dx;
        fl.y += fl.dy;
        ctx.fillStyle = "rgba(255,255,200,0.6)";
        ctx.beginPath();
        ctx.arc(fl.x, fl.y, fl.size, 0, Math.PI*2);
        ctx.fill();
    });

    requestAnimationFrame(loop);
}

/* ----------------------------------
   DRAW TEXT INSIDE HEART
---------------------------------- */
function drawInsideText(text) {
    ctx.font = "28px Poppins";
    ctx.fillStyle = "rgba(255,255,255,0.9)";
    ctx.textAlign = "center";
    ctx.fillText(text, w/2, h/2);
}

loop();
</script>
</body>
</html>
